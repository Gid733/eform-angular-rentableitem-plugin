<header class="main-header main-header-title">
  <div class="container-fluid">
    <h1 class="page-title header-page-title">
      <div class="container">
        {{ 'Vehicles' | translate }}
      </div>
    </h1>
    <div class="pull-right">
      <button tooltip="{{ 'Create vehicle' | translate }}"
              class="needs_tooltip btn btn-ar btn-success"
              (click)="showCreateVehicleModal()"
              type="button" id="newEFormBtn">{{ 'New vehicle' | translate }}
      </button>
    </div>
  </div>
</header>

<div class="container-fluid">
  <vehicles-pn-pagination *ngIf="vehiclesModel.total > vehiclesRequestModel.pageSize"
                       [limit]="vehiclesRequestModel.pageSize"
                       [size]="vehiclesModel.total"
                       [offset]="vehiclesRequestModel.offset"
                       (onPageChanged)="changePage($event)"></vehicles-pn-pagination>
  <table border="0" cellpadding="0" cellspacing="0"
         class="table table-striped table-bordered table-condensed table-hover dataTable no-footer"
         id="units" style="width: 100%;">
    <thead>
    <tr role="row">
      <th class="text-center" rowspan="1" colspan="1" id="idSort">
        ID
      </th>
      <th class="text-center" rowspan="1" colspan="1" id="createdAtSort">
        {{ 'Contact number' | translate }}
      </th>
      <th class="text-center" rowspan="1" colspan="1" id="nameEFormSort">
        {{ 'Customer name' | translate }}
      </th>
      <th class="text-center" rowspan="1" colspan="1">
        {{ 'Brand' | translate }}
      </th>
      <th class="text-center" rowspan="1" colspan="1">
        {{ 'Model' | translate }}
      </th>
      <th class="text-center" rowspan="1" colspan="1">
        {{ 'Registration date' | translate }}
      </th>
      <th class="text-center" rowspan="1" colspan="1">
        {{ 'WIN number' | translate }}
      </th>
      <th class="text-center" rowspan="1" colspan="1">
        {{ 'Start of contract' | translate }}
      </th>
      <th class="text-center" rowspan="1" colspan="1">
        {{ 'End of contract' | translate }}
      </th>
      <th class="col-md-1 text-center" rowspan="1" colspan="1">
        {{ 'Actions' | translate }}
      </th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let vehicle of vehiclesModel.vehicles">
      <td class="text-center">
        {{vehicle.id}}
      </td>
      <td class="text-center">
        {{vehicle.contactNumber}}
      </td>
      <td class="text-center">
        {{vehicle.customerName}}
      </td>
      <td class="text-center">
        {{vehicle.brand}}
      </td>
      <td class="text-center">
        {{vehicle.modelName}}
      </td>
      <td class="text-center">
        {{vehicle.registrationDate}}
      </td>
      <td class="text-center">
        {{vehicle.winNumber}}
      </td>
      <td class="text-center">
        {{vehicle.contractStartDate}}
      </td>
      <td class="text-center">
        {{vehicle.contractEndDate}}
      </td>
      <td class="text-center">
        <div class="row row-buttons-wrapper btn-group" role="group">
          <a class="needs_tooltip btn btn-ar btn-sm btn-default mt-edit-check-list-button"
             (click)="showEditVehicleModal(vehicle)"
             type="button" tooltip="{{ 'Edit vehicle' | translate }}">
            <span class="glyphicon glyphicon-list-alt"></span>
          </a>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
  <div class="row" *ngIf="false">
    <div class="col-xs-6">
      <div class="dataTables_info"*ngIf="vehiclesModel.total > 0">
        {{ 'Showing to of records' |
        translate:{currentPageAmount: (this.vehiclesRequestModel.offset + 1),
        currentPage: getLastPageNumber(), total: vehiclesModel.total} }}
      </div>
    </div>
    <div class="col-xs-6"></div>
  </div>
  <vehicles-pn-spinner [middleActive]="spinnerStatus"></vehicles-pn-spinner>
</div>

<vehicles-pn-add-update-pn-page #vehiclePnAddUpdateComponent [selectedVehicleModel]="selectedVehicleModel"></vehicles-pn-add-update-pn-page>
